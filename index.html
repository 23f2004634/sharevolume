<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Loading Company Data...</title><script src="https://cdn.tailwindcss.com"></script></head><body class="bg-gray-100 flex items-center justify-center min-h-screen p-4"><div class="bg-white p-8 rounded-lg shadow-xl max-w-lg w-full text-center"><h1 class="text-3xl font-bold text-gray-800 mb-6" id="share-entity-name">Loading Company Data...</h1><div class="space-y-4"><div class="bg-blue-50 border-l-4 border-blue-500 text-blue-800 p-4 rounded-md shadow-sm"><h2 class="font-semibold text-lg mb-2">Maximum Shares Outstanding (since 2020)</h2><p class="text-xl font-mono"><span id="share-max-value" class="font-bold">...</span> shares</p><p class="text-sm text-blue-600">Fiscal Year: <span id="share-max-fy">...</span></p></div><div class="bg-green-50 border-l-4 border-green-500 text-green-800 p-4 rounded-md shadow-sm"><h2 class="font-semibold text-lg mb-2">Minimum Shares Outstanding (since 2020)</h2><p class="text-xl font-mono"><span id="share-min-value" class="font-bold">...</span> shares</p><p class="text-sm text-green-600">Fiscal Year: <span id="share-min-fy">...</span></p></div></div><p class="mt-8 text-gray-500 text-sm">Data sourced from SEC EDGAR API. Filtered for fiscal years > 2020.</p><p class="mt-2 text-gray-400 text-xs">To view data for another CIK, append `?CIK=0000320193` to the URL.</p></div><script>const defaultCik = '0000866787';const corsProxy = 'https://api.allorigins.win/raw?url=';async function fetchCompanyData(cik) {const secApiUrl = `https://data.sec.gov/api/xbrl/companyconcept/CIK${cik}/dei/EntityCommonStockSharesOutstanding.json`;const fullUrl = (cik === defaultCik) ? secApiUrl : `${corsProxy}${encodeURIComponent(secApiUrl)}`;try {const response = await fetch(fullUrl, {headers: {'User-Agent': 'SECCompaniesSharesViewer/1.0 (contact@example.com)'}});if (!response.ok) {throw new Error(`HTTP error! status: ${response.status}`);}const data = await response.json();if (!data.entityName || !data.units || !data.units.shares) {throw new Error("Invalid data structure from SEC API.");}const filteredShares = data.units.shares.filter(item => {return item.fy && parseInt(item.fy) > 2020 && typeof item.val === 'number';});if (filteredShares.length === 0) {return {entityName: data.entityName, max: { val: 'N/A', fy: 'N/A' }, min: { val: 'N/A', fy: 'N/A' }};}let maxVal = -Infinity;let minVal = Infinity;let maxEntry = null;let minEntry = null;for (const item of filteredShares) {if (item.val > maxVal) {maxVal = item.val;maxEntry = item;}if (item.val < minVal) {minVal = item.val;minEntry = item;}}return {entityName: data.entityName, max: { val: maxEntry.val, fy: maxEntry.fy }, min: { val: minEntry.val, fy: minEntry.fy }};} catch (error) {console.error("Error fetching or processing data:", error);return {entityName: `Error loading data for CIK ${cik}`, max: { val: 'Error', fy: '---' }, min: { val: 'Error', fy: '---' }};}}function formatNumber(num) {if (typeof num === 'number') {return num.toLocaleString();}return num;}function updateUI(data) {const entityNameElem = document.getElementById('share-entity-name');const maxValElem = document.getElementById('share-max-value');const maxFyElem = document.getElementById('share-max-fy');const minValElem = document.getElementById('share-min-value');const minFyElem = document.getElementById('share-min-fy');document.title = `${data.entityName} - Shares Outstanding`;entityNameElem.textContent = `${data.entityName} Shares Outstanding`;maxValElem.textContent = formatNumber(data.max.val);maxFyElem.textContent = data.max.fy;minValElem.textContent = formatNumber(data.min.val);minFyElem.textContent = data.min.fy;}async function init() {const urlParams = new URLSearchParams(window.location.search);const cik = urlParams.get('CIK') || defaultCik;const companyData = await fetchCompanyData(cik);updateUI(companyData);}document.addEventListener('DOMContentLoaded', init);</script></body></html>